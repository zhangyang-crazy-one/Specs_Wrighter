---
type: "manual"
---

# 阶段三：创作宪法文件

## 命令说明

此命令用于执行阶段三的宪法文件创建工作，基于调研报告和设计文档，生成创作宪法文件，定义核心原则和约束条件。

## 用法

```bash
/writer:3-constitution <project-dir>
```

### 参数

- `<project-dir>` (必需): 项目目录路径

### 示例

```bash
/writer:3-constitution "D:\Projects\MyNovel"
```

## 前置条件

- 阶段一必须已完成（调研报告）
- 阶段二必须已完成（设计文档）
- `.writer/research/research-data.json` 必须存在
- `.writer/design/design-document.md` 必须存在

## 执行步骤

1. **检查前置条件**
   - 验证阶段一、二已完成
   - 读取调研数据

2. **生成宪法文件**
   - 使用模板 `templates/constitution-template.md`
   - 自动填充项目信息和写作类型

3. **保存文件**
   - 宪法文件: `.writer/constitution/constitution.md`

4. **更新配置**
   - 更新 `config.json` 中的阶段三状态
   - 设置当前阶段为3

## 调用PowerShell脚本

```powershell
$scriptPath = "scripts/powershell/create-constitution.ps1"
& $scriptPath -ProjectDir "<project-dir>"
```

## 输出

### 成功输出

```
[完成] 宪法文件已生成

项目信息:
  名称: 我的小说
  类型: 长篇小说
  宪法文件: D:\Projects\MyNovel\.writer\constitution\constitution.md

下一步行动:
  1. 打开宪法文件: D:\Projects\MyNovel\.writer\constitution\constitution.md
  2. 填写核心主题和价值观
  3. 定义不可违背的创作原则
  4. 设定角色规则（如适用）
  5. 设定情节约束条件
  6. 定义风格一致性要求
  7. 列出禁止事项清单
  8. 完成后运行: /writer:4-outline "D:\Projects\MyNovel"

[注意] 宪法文件是最高准则，请认真填写
[注意] 完成后再进入阶段四
```

## 宪法文件结构

生成的宪法文件包含以下六个核心章节：

### 1. 核心主题和价值观
- **核心主题**: 作品要传达的核心思想（至少3个）
- **核心价值观**: 作品要传达的价值取向（至少3个）
- **主题一致性要求**: 每个章节都必须与核心主题相关

### 2. 不可违背的创作原则
- **叙事原则**: 叙事方面的核心原则
- **风格原则**: 风格方面的核心原则
- **内容原则**: 内容方面的核心原则
- **学术原则**: 学术写作的核心原则（如适用）

### 3. 角色设定规则（如适用）
- **主要角色规则**: 数量限制、性格要求、动机要求
- **角色关系规则**: 冲突要求、关系演变
- **角色行为规则**: 一致性要求、逻辑性要求

### 4. 情节发展约束条件
- **情节结构约束**: 结构要求（三幕/五幕等）
- **情节逻辑约束**: 因果关系、时间线约束
- **情节节奏约束**: 节奏要求、冲突升级
- **伏笔和回收约束**: 伏笔要求、回收时机

### 5. 风格一致性要求
- **叙事视角一致性**: 全文统一视角
- **语言风格一致性**: 保持统一风格
- **修辞手法一致性**: 允许/谨慎/禁止使用的修辞
- **描写手法一致性**: 主要描写方式的一致性

### 6. 禁止事项清单
- **内容禁止**: 绝对禁止的内容
- **风格禁止**: 绝对禁止的风格处理
- **结构禁止**: 绝对禁止的结构处理
- **学术禁止**: 学术写作的禁止事项（如适用）

## 宪法文件的作用

1. **确保一致性**: 确保作品主题、风格、价值观的一致性
2. **质量控制**: 提供明确的质量控制标准
3. **审查依据**: 为阶段五的合规性审查提供评判依据
4. **解决冲突**: 解决创作过程中的分歧和冲突

## 填写指南

### 重要原则

1. **具体明确**: 所有原则和约束都应具体、可执行、可验证
2. **基于前两阶段**: 宪法文件应基于调研报告和设计文档
3. **提炼核心**: 从大量信息中提炼出最核心的原则
4. **平衡约束与自由**: 既要有明确的约束，也要保留创作空间

### 必填项

- **核心主题**: 至少3个
- **核心价值观**: 至少3个
- **创作原则**: 每个类别至少2-3个原则
- **禁止事项**: 明确列出绝对禁止的事项

### 选填项

- **角色规则**: 如果是小说、剧本等需要角色的作品，必须填写
- **情节约束**: 如果是叙事性作品，必须填写
- **学术原则**: 仅学术写作需要填写

## 修改限制

**重要提示**: 宪法文件一旦确定，原则上不应修改

- 如必须修改，需要重新审查已完成的大纲和内容
- 重大修改可能需要返回阶段四重新设计大纲

## 下一步

完成宪法文件后，运行以下命令进入阶段四：

```bash
/writer:4-outline "<project-dir>" [chapter-count]
```

## 注意事项

1. **最高准则**: 宪法文件是整个创作过程的最高准则
2. **认真填写**: 所有后续工作都必须遵守宪法文件
3. **避免过度限制**: 在保证质量的前提下，给予适当的创作自由
4. **可验证性**: 所有原则都应该可以在合规性审查中验证

## 相关命令

- `/writer:2-design` - 返回阶段二
- `/writer:4-outline` - 进入阶段四：情节设计与大纲编写

## 技术细节

- **脚本位置**: `scripts/powershell/create-constitution.ps1`
- **模板位置**: `templates/constitution-template.md`
- **输出目录**: `.writer/constitution/`
- **编码**: UTF-8（无BOM）

