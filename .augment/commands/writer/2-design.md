---
namespace: writer
name: 2-design
description: 阶段二：风格与背景设计，创建风格规范、背景设定和世界观框架
---

# 阶段二：风格与背景设计

## 命令说明

此命令用于执行阶段二的风格与背景设计工作，基于调研报告生成风格规范、背景设定和世界观框架。

## 用法

```bash
/writer:2-design <project-dir>
```

### 参数

- `<project-dir>` (必需): 项目目录路径

### 示例

```bash
/writer:2-design "D:\Projects\MyNovel"
```

## 前置条件

- 阶段一必须已完成
- 调研报告必须已填写完整
- `.writer/research/research-data.json` 必须存在

## 执行步骤

1. **检查前置条件**
   - 验证阶段一已完成
   - 读取调研数据

2. **生成设计文档**
   - 使用模板 `templates/design-document-template.md`
   - 自动填充项目信息、写作类型、核心主题
   - 基于调研报告提供设计建议

3. **保存文件**
   - 设计文档: `.writer/design/design-document.md`

4. **更新配置**
   - 更新 `config.json` 中的阶段二状态
   - 设置当前阶段为2

## 调用PowerShell脚本

```powershell
$scriptPath = "scripts/powershell/create-design.ps1"
& $scriptPath -ProjectDir "<project-dir>"
```

## 输出

### 成功输出

```
[完成] 设计文档已生成

项目信息:
  名称: 我的小说
  类型: 长篇小说
  设计文档: D:\Projects\MyNovel\.writer\design\design-document.md
  基于调研: D:\Projects\MyNovel\.writer\research\research-report.md

下一步行动:
  1. 打开设计文档: D:\Projects\MyNovel\.writer\design\design-document.md
  2. 填写风格规范（叙事视角、语言风格等）
  3. 填写背景设定（历史、地理、世界观等）
  4. 根据写作类型选择性填写相关部分
  5. 完成后运行: /writer:3-constitution "D:\Projects\MyNovel"

[注意] 请完成设计文档后再进入阶段三
```

## 设计文档结构

生成的设计文档包含以下部分：

### 1. 文字风格规范
- **叙事视角**: 第一人称/第三人称等
- **语言风格**: 正式/生动/诗意等
- **修辞手法**: 允许/谨慎/禁止使用的修辞
- **描写手法**: 视觉/听觉/心理等描写方式

### 2. 历史背景设定（如适用）
- **时代背景**: 时间设定和历史特征
- **重要历史事件**: 与作品相关的历史事件
- **历史真实性要求**: 对历史准确性的要求

### 3. 地理信息设定（如适用）
- **地理位置**: 主要地点和地理特征
- **地点列表**: 重要地点的详细信息
- **地图和空间关系**: 地点之间的空间布局

### 4. 世界观设定（如适用于虚构作品）
- **世界类型**: 现实/架空/平行/未来/奇幻
- **世界规则**: 物理规则、魔法/科技系统、社会规则
- **文化设定**: 语言、宗教、习俗

### 5. 角色设定框架（如适用）
- **角色类型**: 主角、配角、次要角色
- **角色设定要求**: 性格、成长、关系
- **角色命名规则**: 命名风格和约束

### 6. 叙事节奏和结构
- **章节结构**: 建议章节长度和划分原则
- **叙事节奏**: 整体节奏控制
- **时间处理**: 时间线和时间处理技巧

### 7. 学术规范（如适用于学术写作）
- **引用格式**: APA/MLA/Chicago等
- **学术语言**: 客观性、精确性要求
- **论证结构**: 论证方式和证据要求

### 8. 特殊格式要求
- **对话格式**: 对话标记和标签
- **段落格式**: 段落长度、缩进、间距

### 9. 风格一致性检查清单
- 必须检查项和建议检查项

## 填写指南

### 不同写作类型的重点

**学术论文**:
- 重点: 学术规范、语言风格、论证结构
- 可省略: 世界观设定、角色设定

**小说**:
- 重点: 所有部分都需要详细填写
- 特别注意: 世界观设定、角色设定框架

**剧本**:
- 重点: 对话格式、场景设定、角色设定
- 特别注意: 时间和空间的限制

**传记**:
- 重点: 历史背景、地理信息、语言风格
- 必须: 历史真实性要求

## 下一步

完成设计文档后，运行以下命令进入阶段三：

```bash
/writer:3-constitution "<project-dir>"
```

## 注意事项

1. **保持一致**: 设计应基于调研报告
2. **具体明确**: 避免模糊的描述，提供具体的规范和示例
3. **选择性填写**: 根据写作类型选择性填写相关部分
4. **提供示例**: 在语言风格部分提供2-3个示例段落

## 相关命令

- `/writer:1-research` - 返回阶段一
- `/writer:3-constitution` - 进入阶段三：创作宪法文件

## 技术细节

- **脚本位置**: `scripts/powershell/create-design.ps1`
- **模板位置**: `templates/design-document-template.md`
- **输出目录**: `.writer/design/`
- **编码**: UTF-8（无BOM）

